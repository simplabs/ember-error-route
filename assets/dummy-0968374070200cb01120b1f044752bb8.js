"use strict"
define("dummy/app",["exports","@ember/application","ember-resolver","ember-load-initializers","dummy/config/environment"],(function(e,t,n,o,r){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=sessionStorage.redirect
delete sessionStorage.redirect,a&&a!==location.href&&history.replaceState(null,null,a)
class u extends t.default{constructor(){super(...arguments),i(this,"modulePrefix",r.default.modulePrefix),i(this,"podModulePrefix",r.default.podModulePrefix),i(this,"Resolver",n.default)}}e.default=u,(0,o.default)(u,r.default.modulePrefix)})),define("dummy/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("dummy/controllers/application",["exports","@ember/controller","@ember/service"],(function(e,t,n){var o,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let i=(o=class extends t.default{constructor(){var e,t,n,o
super(...arguments),e=this,t="router",o=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}get baseUrl(){return window.location.origin}get route(){return this.router.currentRouteName}get url(){return this.router.currentURL}},a=o.prototype,u="router",l=[n.inject],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},s={},Object.keys(d).forEach((function(e){s[e]=d[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=l.slice().reverse().reduce((function(e,t){return t(a,u,e)||e}),s),c&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(a,u,s),s=null),r=s,o)
var a,u,l,d,c,s
e.default=i})),define("dummy/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})})),define("dummy/helpers/page-title",["exports","ember-page-title/helpers/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("dummy/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"container-debug-adapter",initialize(){(arguments[1]||arguments[0]).register("container-debug-adapter:main",t.default)}}
e.default=n})),define("dummy/initializers/export-application-global",["exports","ember","dummy/config/environment"],(function(e,t,n){function o(){var e=arguments[1]||arguments[0]
if(!1!==n.default.exportApplicationGlobal){var o
if("undefined"!=typeof window)o=window
else if("undefined"!=typeof global)o=global
else{if("undefined"==typeof self)return
o=self}var r,i=n.default.exportApplicationGlobal
r="string"==typeof i?i:t.default.String.classify(n.default.modulePrefix),o[r]||(o[r]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete o[r]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=o
var r={name:"export-application-global",initialize:o}
e.default=r})),define("dummy/router",["exports","@ember/routing/router","dummy/config/environment"],(function(e,t,n){function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{constructor(){super(...arguments),o(this,"location",n.default.locationType),o(this,"rootURL",n.default.rootURL)}}e.default=r,r.map((function(){this.route("native",{path:"/native/:id"}),this.route("fixed",{path:"/fixed/:id"}),this.route("error",{path:"*path"})}))})),define("dummy/routes/error",["exports","ember-error-route"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("dummy/routes/fixed",["exports","@ember/service","@ember/routing/route"],(function(e,t,n){var o,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let i=(o=class extends n.default{constructor(){var e,t,n,o
super(...arguments),e=this,t="router",o=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}async model(e,t){let{id:n}=e
if("200"===n)return{}
if("500"===n){let e="Internal server error"
this.router.replaceWith("error",{transition:t,title:e})}else{let e="Not found"
this.router.replaceWith("error",{transition:t,title:e})}}},a=o.prototype,u="router",l=[t.inject],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},s={},Object.keys(d).forEach((function(e){s[e]=d[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=l.slice().reverse().reduce((function(e,t){return t(a,u,e)||e}),s),c&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(a,u,s),s=null),r=s,o)
var a,u,l,d,c,s
e.default=i})),define("dummy/routes/native",["exports","@ember/routing/route"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{async model(e){let{id:t}=e
if("200"===t)return{}
throw"500"===t?new Error("Internal server error"):new Error("Not found")}}e.default=n})),define("dummy/services/-ensure-registered",["exports","@embroider/util/services/ensure-registered"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("dummy/services/page-title-list",["exports","ember-page-title/services/page-title-list"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("dummy/services/page-title",["exports","ember-page-title/services/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("dummy/templates/application",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"iTAFwhAH",block:'[[[1,[28,[35,0],["ember-error-route"],null]],[1,"\\n\\n"],[10,"header"],[14,0,"header"],[12],[1,"\\n  "],[10,0],[12],[1,"\\n    "],[10,0],[12],[1,"URL: "],[10,"code"],[12],[1,[30,0,["url"]]],[13],[13],[1,"\\n    "],[10,0],[12],[1,"Route: "],[10,"code"],[12],[1,[30,0,["route"]]],[13],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[12],[1,"\\n    "],[10,3],[14,6,"https://github.com/simplabs/ember-error-route"],[14,0,"github-link"],[12],[1,"\\n      "],[10,"img"],[14,"src","/github.svg"],[14,"height","30"],[14,"alt","GitHub"],[12],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,"main"],[14,0,"main"],[12],[1,"\\n  "],[10,0],[14,0,"content"],[12],[1,"\\n    "],[10,"h1"],[12],[8,[39,1],null,[["@route"],["index"]],[["default"],[[[[1,"ember-error-route"]],[]]]]],[13],[1,"\\n\\n    "],[46,[28,[37,3],null,null],null,null,null],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["page-title","link-to","component","-outlet"]]',moduleName:"dummy/templates/application.hbs",isStrictMode:!1})
e.default=n})),define("dummy/templates/error",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"yn7GlxcN",block:'[[[10,2],[12],[1,"You have failed to enter the "],[10,"code"],[12],[1,"fixed"],[13],[1," route and instead you are looking at the "],[10,"code"],[12],[1,"error"],[13],[1," route."],[13],[1,"\\n\\n"],[10,2],[12],[10,3],[14,6,"javascript:history.back()"],[12],[1,"Navigate back using "],[10,"code"],[12],[1,"history.back()"],[13],[1," route"],[13],[13]],[],false,[]]',moduleName:"dummy/templates/error.hbs",isStrictMode:!1})
e.default=n})),define("dummy/templates/fixed",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"Lh82QD4g",block:'[[[10,2],[12],[1,"You have successfully entered the "],[10,"code"],[12],[1,"fixed"],[13],[1," route."],[13],[1,"\\n\\n"],[10,2],[12],[10,3],[14,6,"javascript:history.back()"],[12],[1,"Navigate back using "],[10,"code"],[12],[1,"history.back()"],[13],[1," route"],[13],[13]],[],false,[]]',moduleName:"dummy/templates/fixed.hbs",isStrictMode:!1})
e.default=n})),define("dummy/templates/index",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"Xvt9ScKN",block:'[[[10,2],[12],[1,"This addon will help you build better “404 Not Found” and other error pages in\\n  Ember.js."],[13],[1,"\\n\\n"],[10,0],[14,0,"quick-nav"],[12],[1,"\\n  "],[10,0],[12],[1,"Quick Navigation:"],[13],[1,"\\n\\n  "],[10,"ul"],[12],[1,"\\n    "],[10,"li"],[12],[8,[39,0],[[24,"data-test-200-native",""]],[["@route","@model"],["native","200"]],[["default"],[[[[10,"code"],[12],[1,"/native/200"],[13]],[]]]]],[13],[1,"\\n    "],[10,"li"],[12],[8,[39,0],[[24,"data-test-404-native",""]],[["@route","@model"],["native","404"]],[["default"],[[[[10,"code"],[12],[1,"/native/404"],[13]],[]]]]],[13],[1,"\\n\\n    "],[10,"li"],[12],[8,[39,0],[[24,"data-test-200-fixed",""]],[["@route","@model"],["fixed","200"]],[["default"],[[[[10,"code"],[12],[1,"/fixed/200"],[13]],[]]]]],[13],[1,"\\n    "],[10,"li"],[12],[8,[39,0],[[24,"data-test-404-fixed",""]],[["@route","@model"],["fixed","404"]],[["default"],[[[[10,"code"],[12],[1,"/fixed/404"],[13]],[]]]]],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,2],[12],[1,"If you don\'t know what these links are, read the following text first… 😉"],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,2],[12],[1,"The way to do this natively in Ember.js is called: "],[10,3],[14,6,"https://guides.emberjs.com/release/routing/loading-and-error-substates/#toc_error-substates"],[12],[10,"code"],[12],[1,"error"],[13],[1," substates"],[13],[1,"."],[13],[1,"\\n"],[10,2],[12],[1,"In this example app we have two routes, "],[10,"code"],[12],[1,"native"],[13],[1," and "],[10,"code"],[12],[1,"fixed"],[13],[1,":"],[13],[1,"\\n"],[10,"pre"],[14,0," language-js"],[12],[10,"code"],[14,0,"prism language-js"],[12],[10,1],[14,0,"token keyword"],[12],[1,"this"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"."],[13],[10,1],[14,0,"token function"],[12],[1,"route"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[10,1],[14,0,"token string"],[12],[1,"\'native\'"],[13],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1," path"],[10,1],[14,0,"token punctuation"],[12],[1,":"],[13],[1," "],[10,1],[14,0,"token string"],[12],[1,"\'/native/:id\'"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[10,1],[14,0,"token punctuation"],[12],[1,";"],[13],[1,"\\n"],[10,1],[14,0,"token keyword"],[12],[1,"this"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"."],[13],[10,1],[14,0,"token function"],[12],[1,"route"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[10,1],[14,0,"token string"],[12],[1,"\'fixed\'"],[13],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1," path"],[10,1],[14,0,"token punctuation"],[12],[1,":"],[13],[1," "],[10,1],[14,0,"token string"],[12],[1,"\'/fixed/:id\'"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[10,1],[14,0,"token punctuation"],[12],[1,";"],[13],[1,"\\n"],[13],[13],[1,"\\n"],[10,2],[12],[1,"The "],[10,"code"],[12],[1,"native"],[13],[1," route is throwing an error ("],[10,"code"],[12],[1,"throw new Error(\'...\');"],[13],[1,") if anything but "],[10,"code"],[12],[1,"/native/200"],[13],[1," is visited. The application\\n  contains a "],[10,"code"],[12],[1,"native-error.hbs"],[13],[1," template, next to the "],[10,"code"],[12],[1,"native.hbs"],[13],[1,", which gets displayed if the "],[10,"code"],[12],[1,"model()"],[13],[1," hook of the route\\n  throws an error."],[13],[1,"\\n"],[10,2],[12],[1,"The problem: if you visit e.g. "],[8,[39,0],null,[["@route","@model"],["native","404"]],[["default"],[[[[10,"code"],[12],[1,"/native/404"],[13]],[]]]]],[1," you will see the "],[10,"code"],[12],[1,"native-error.hbs"],[13],[1," template, but the URL will not update because\\n  the transition has been cancelled by the thrown error. If you then refresh the page you will end up in a different place,\\n  and if instead you try to navigate back with the browser back button, you will navigate back two steps… 🙈"],[13],[1,"\\n"],[10,2],[12],[1,"The "],[10,"code"],[12],[1,"fixed"],[13],[1," route is implemented using "],[10,"code"],[12],[1,"ember-error-route"],[13],[1,". We have introduced a catch-all "],[10,"code"],[12],[1,"error"],[13],[1," route "],[10,"code"],[12],[1,"this.route(\'error\', { path: \'*path\' });"],[13],[1," in the router and\\n  if the "],[10,"code"],[12],[1,"model()"],[13],[1," hook of a route throws an error we catch it and manually redirect the user to this custom "],[10,"code"],[12],[1,"error"],[13],[1," route:"],[13],[1,"\\n"],[10,"pre"],[14,0," language-js"],[12],[10,"code"],[14,0,"prism language-js"],[12],[1,"@service router"],[10,1],[14,0,"token punctuation"],[12],[1,";"],[13],[1,"\\n\\n"],[10,1],[14,0,"token keyword"],[12],[1,"async"],[13],[1," "],[10,1],[14,0,"token function"],[12],[1,"model"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[1,"params"],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," transition"],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1,"\\n  "],[10,1],[14,0,"token keyword"],[12],[1,"try"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1,"\\n    "],[10,1],[14,0,"token keyword"],[12],[1,"return"],[13],[1," "],[10,1],[14,0,"token keyword"],[12],[1,"await"],[13],[1," "],[10,1],[14,0,"token function"],[12],[1,"fetch"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[10,1],[14,0,"token template-string"],[12],[10,1],[14,0,"token string"],[12],[1,"`https://movies.com/"],[13],[10,1],[14,0,"token interpolation"],[12],[10,1],[14,0,"token interpolation-punctuation punctuation"],[12],[1,"${"],[13],[1,"params"],[10,1],[14,0,"token punctuation"],[12],[1,"."],[13],[1,"id"],[10,1],[14,0,"token interpolation-punctuation punctuation"],[12],[1,"}"],[13],[13],[10,1],[14,0,"token string"],[12],[1,".json`"],[13],[13],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[10,1],[14,0,"token punctuation"],[12],[1,";"],[13],[1,"\\n  "],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[1," "],[10,1],[14,0,"token keyword"],[12],[1,"catch"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[10,1],[14,0,"token class-name"],[12],[1,"error"],[13],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1,"\\n    "],[10,1],[14,0,"token keyword"],[12],[1,"this"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"."],[13],[1,"router"],[10,1],[14,0,"token punctuation"],[12],[1,"."],[13],[10,1],[14,0,"token function"],[12],[1,"replaceWith"],[13],[10,1],[14,0,"token punctuation"],[12],[1,"("],[13],[10,1],[14,0,"token string"],[12],[1,"\'error\'"],[13],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"{"],[13],[1," transition"],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," error"],[10,1],[14,0,"token punctuation"],[12],[1,","],[13],[1," title"],[10,1],[14,0,"token punctuation"],[12],[1,":"],[13],[1," "],[10,1],[14,0,"token string"],[12],[1,"\'Movie not found\'"],[13],[1," "],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[10,1],[14,0,"token punctuation"],[12],[1,")"],[13],[10,1],[14,0,"token punctuation"],[12],[1,";"],[13],[1,"\\n  "],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[1,"\\n"],[10,1],[14,0,"token punctuation"],[12],[1,"}"],[13],[1,"\\n"],[13],[13],[1,"\\n"],[10,2],[12],[1,"While this looks a little more complicated than just throwing an error, it does fix the issue above. If you visit e.g. "],[8,[39,0],null,[["@route","@model"],["fixed","404"]],[["default"],[[[[10,"code"],[12],[1,"/fixed/404"],[13]],[]]]]],[1," our custom error page will be displayed and URL updated correctly."],[13],[1,"\\n"],[10,2],[12],[1,"All of the passed in options are also available in the "],[10,"code"],[12],[1,"error"],[13],[1," route, which allows us to implement e.g. a “Retry” button using "],[10,"code"],[12],[1,"this.model.transition.retry();"],[13],[1,"."],[13],[1,"\\n\\n"],[10,2],[12],[1,"You can find the complete "],[10,3],[14,6,"https://github.com/simplabs/ember-error-route#usage"],[12],[1,"usage instruction"],[13],[1," in the README file on our GitHub project."],[13]],[],false,["link-to"]]',moduleName:"dummy/templates/index.hbs",isStrictMode:!1})
e.default=n})),define("dummy/templates/native-error",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"CFtSNqg2",block:'[[[10,2],[12],[1,"You have failed to enter the "],[10,"code"],[12],[1,"native"],[13],[1," route and instead you are looking at the "],[10,"code"],[12],[1,"native-error"],[13],[1," route template."],[13],[1,"\\n\\n"],[10,2],[12],[10,3],[14,6,"javascript:history.back()"],[12],[1,"Navigate back using "],[10,"code"],[12],[1,"history.back()"],[13],[1," route"],[13],[13]],[],false,[]]',moduleName:"dummy/templates/native-error.hbs",isStrictMode:!1})
e.default=n})),define("dummy/templates/native",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"26Ym1uPa",block:'[[[10,2],[12],[1,"You have successfully entered the "],[10,"code"],[12],[1,"native"],[13],[1," route."],[13],[1,"\\n\\n"],[10,2],[12],[10,3],[14,6,"javascript:history.back()"],[12],[1,"Navigate back using "],[10,"code"],[12],[1,"history.back()"],[13],[1," route"],[13],[13]],[],false,[]]',moduleName:"dummy/templates/native.hbs",isStrictMode:!1})
e.default=n})),define("dummy/config/environment",[],(function(){try{var e="dummy/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),n={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(n,"__esModule",{value:!0}),n}catch(o){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),runningTests||require("dummy/app").default.create({})
